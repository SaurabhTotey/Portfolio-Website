<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/header :: header"></head>

<body class="tall">

<nav th:replace="fragments/navbar :: nav ('Home')"></nav>

<br/>

<div class="container wide">
    <h1>About Saurabh Totey</h1>
    <div class="container wide">
        <div class="row">
            <img class="center col-md-4" src="images/meInCancun.jpg" height="100%"/>
            <p class="center col-md-8">Hello, my name is Saurabh Totey. Welcome to my portfolio website! I was born on December 5, 2000, and I currently live in Boulder, CO. As of now, I am a rising senior in Fairview High School. In my freetime I enjoy practicing my instruments and coding. I enjoy playing the piano and cello, despite not being very good at them. I'm also an avid player of videogames and watcher of television shows. I enjoy all types of videogames and TV shows. In my near future, I hope to study Physics and Computer Science, as my academic interests lie in math-related fields.</p>
        </div>
    </div>
</div>

<br/>

<div class="container wide">
    <!--Interest selection dropdown-->
    <h1>Learn about my favorite</h1>
    <div class="dropdown center">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Interests</button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" th:each="interest : ${interests}" th:id="${interest.id} + 'dropDownOption'" th:text="${interest.category}" href="javascript:"></a>
        </div>
    </div>
    <br/>
    <!--Invisible interest carousels-->
    <div class="interestContainer" th:each="category, categoryStatus : ${interests}" style="display:none" th:id="${category.id} + 'carousel'">
        <p class="center" th:text="${category.description}"></p>
        <br/>
        <div class="container wide carousel slide" data-ride="carousel" th:id="${category.id} + '-actualCarousel'">
            <ol class="carousel-indicators">
                <li th:each="item, itemStatus : ${category.items}" th:data-target="'#' + ${category.id} + '-actualCarousel'" th:data-slide-to="${itemStatus.index}" th:classappend="${itemStatus.index == 0}? 'active' : ''"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item" th:each="item, itemStatus : ${category.items}" th:classappend="${itemStatus.index == 0} ? 'active' : ''">
                    <h3 th:text="${item.name}"></h3>
                    <div class="row">
                        <img class="center col-md-4" th:src="${item.image}" height="100%"/>
                        <p class="center col-md-8" th:text="${item.description}"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--JavaScript to handle linking the dropdown with the carousels-->
    <script>
        var notSelectedString = document.getElementById("dropdownMenuButton").innerText;
        var interestIds = Array.from(document.getElementsByClassName("dropdown-item")).map(function(item) { return item.id; });
        var currentlySelectedLocation = -1;
        interestIds.forEach(function(interestId) {
            var element = document.getElementById(interestId);
            element.onclick = function () {
                function switchTexts(e) {
                    var oldText = document.getElementById("dropdownMenuButton").innerText;
                    document.getElementById("dropdownMenuButton").innerText = e.innerText;
                    e.innerText = oldText;
                }
                var newSelection = interestIds.indexOf(interestId);
                if (currentlySelectedLocation === -1) {
                    currentlySelectedLocation = newSelection;
                }else if (newSelection === currentlySelectedLocation) {
                    currentlySelectedLocation = -1;
                } else {
                    switchTexts(document.getElementById(interestIds[currentlySelectedLocation]));
                    currentlySelectedLocation = newSelection;
                }
                switchTexts(element);
                var currentText = document.getElementById("dropdownMenuButton").innerText;
                Array.from(document.getElementsByClassName("interestContainer")).forEach(function(carousel) { carousel.style.display = "none"; });
                if (currentText !== notSelectedString) {
                    document.getElementById(interestId.replace("dropDownOption", "carousel")).style.display = "";
                }
            }
        });
    </script>
</div>

<br/>

</body>

<br/>

<footer th:replace="fragments/footer :: footer"></footer>

</html>
